<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VueCode Editor</title>

    <link rel="icon" href="../assets/img/logo/symbol-vuecode.svg" type="image/x-icon">

    <link rel="stylesheet" href="../css/editor.css">
    

    <!-----------------Icons BootsTrap e FontAwesome---------------------->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    

    <!---------------Editor CodeMirror Embed------------------>

    <!-- CSS do core e tema (aqui usando o “material” só de exemplo) -->
        <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css"
        />

        <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/material.min.css"
        />

        <!-- JS do core + addons de modo HTML/CSS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/xml/xml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/javascript/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/css/css.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/htmlmixed/htmlmixed.min.js"></script>




    <!--------------------Fontes Poppins e Fire Sans Code----------------------------------->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

</head>
<body>
    <header class="top-bar">
        <div class="header-container grid-header">
            <div class="menu-bar-esquerda">
                <div class="img-logo">
                    <img src="../assets/img/logo/symbol-vuecode.svg" alt="VueCode">
                </div>
                <!-------------------Menu de navegação-------------------------->
                <nav class="app-menu">
                <ul class="menu-top">
                    <li><a href="#">Arquivo</a></li>
                    <li><a href="#">Editar</a></li>
                    <li><a href="#">Seleção</a></li>
                    <li><a href="#">Ver</a></li>
                    <li><a href="#">Acessar</a></li>
                    <li><a href="#">Executar</a></li>
                    <li><a href="#">Terminal</a></li>
                    <li><a href="#">Ajuda</a></li>
                </ul>
                </nav>
            </div>
        
<!--------------------Menu Search-------------------------->      
            <div class="container-nav-meio">
                <div class="search-bar">
                    <input type="text" placeholder="VueCode" class="input-search">
                    <i class="bi bi-search"></i>
                </div>
            </div>
            
        <!----------- Profile e Notifications ------------ -->
            <div class="container-nav-direita">
                <div class="container-profileNotiArea">
                    <div class="notifications-area">
                        <i class="bi bi-bell"></i>
                    </div>

                    <div class="profile-area">
                        <div class="img-profile">
                            <img src="../assets/img/profile-picture/profile-1.jpg" alt="Perfil">
                        </div>
                    </div>
        
                </div>    
            </div>
        </div>
    </header>

    <main class="main-workspace">
        <section class="panel editor-panel">            
            <div class="panel-editor-esquerda">
                <div class="panel-navigation-esquerda panel-esquerda">
                    <nav class="panel-esquerda-navigation">
                        <ul class="panel-navigation">
                            <li title="Explorador" id="toggle-explorador">
                                <i class="bi bi-copy"></i>
                                <a href="#"></a>
                            </li>
                            <li title="Search">
                                <i class="bi bi-search"></i>
                                <a href="#"></a>
                            </li>
                            <li title="Controle de Código">
                                <i class="bi bi-share"></i>
                                <a href="#"></a>
                            </li>
                            <li title="Executar e Depurar">
                                <i class="bi bi-play-fill"></i>
                                <a href="#"></a>
                            </li>
                            <li title="Extensões">
                                <i class="bi bi-stack"></i>
                                <a href="#"></a>
                            </li>
                        </ul>
                    </nav>

                    <div class="panel-esquerda config">
                        <ul>
                            <li title="Configurações">
                                <a href="">
                                    <i class="bi bi-person-circle"></i>
                                </a>
                                
                                
                            </li>
                            <li title="Configurações">
                                <a href="">
                                    <i class="bi bi-gear"></i>
                                </a>
                                
                            </li>
                            <li title="Ajuda">
                                <a href="">
                                    <i class="bi bi-question-circle"></i>
                                </a>
                                
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="explorador-esquerda panel-explorador panel-hide oculto" id="painel-explorador">
                    <nav class="explorador-esquerda-menu">
                        <ul class="explorador-esquerda-list">
                            <span>Explorador</span>
                            <li>
                                <i class="bi bi-chevron-right"></i>
                                <a href="#">Editores Abertos</a>
                            </li>
                            <li>
                                <i class="bi bi-chevron-right"></i>
                                <a href="#">Project Name</a>
                            </li>
                            <li>
                                <i class="bi bi-chevron-right"></i>
                                <a href="#">Estrutura do Código</a>
                            </li>
                            <li>
                                <i class="bi bi-chevron-right"></i>
                                <a href="#">Linha do Tempo</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                
            </div>
            

        </section>

        <!-------------------Panel Editor Janelas-------------->

        <section class="editor-area">
            <div class="editor-container">
                <div class="editor-header">
                    <div class="editor-abas">
                        <ul class="tabs">
                            <li data-tab="html" class="active">HTML</li>
                            <li data-tab="css">CSS</li>
                            <li data-tab="js">JS</li>
                        </ul>
                    </div>
                    <div class="code-options">
                        <div class="code-preview-container" >
                            <a href="" title="Preview" id="code-preview">
                                <i class="bi bi-play-fill"></i>
                            </a>
                                                        
                        </div>
                        <div class="layout-container" >
                            <a href="" title="Dividir Tela" id="layout">
                                <i class="bi bi-layout-split"></i>
                            </a>                            
                        </div>
                    </div>
                </div>

                <div class="editor-content">
                    <div id="cm-html" class="editor-codemirror"></div>
                    <div id="cm-css"  class="editor-codemirror"></div>
                    <div id="cm-js"  class="editor-codemirror"></div>
                </div>
            </div>
        </section>

        <!-------------------Preview Editor -------------->

        <section class="preview-editor">
            <div class="preview-container">
                <div class="preview-header">
                    <span>Preview</span>
                </div>
                <div class="preview-content">
                    <iframe src="" frameborder="0" class="preview-iframe"></iframe>
                </div>
            </div>
        </section>

    </main>




    
    
    <script src="../js/editor.js"></script>

    <script>
        // Instâncias do CodeMirror
        const cmHtml = CodeMirror(document.getElementById('cm-html'), {
            mode: 'htmlmixed',
            theme: 'material',
            lineNumbers: true,
        });

        const cmCss = CodeMirror(document.getElementById('cm-css'), {
            mode: 'css',
            theme: 'material',
            lineNumbers: true,
        });

        const cmJs = CodeMirror(document.getElementById('cm-js'), {
            mode: 'javascript',
            theme: 'material',
            lineNumbers: true,
        });

        // Mapeamento das instâncias por linguagem
        const cmInstances = {
            html: cmHtml,
            css: cmCss,
            js: cmJs,
        };

        // Elementos visuais (wrappers dos editores)
        const editors = {
            html: cmHtml.getWrapperElement(),
            css: cmCss.getWrapperElement(),
            js: cmJs.getWrapperElement(),
        };

        const tabs = document.querySelectorAll('.tabs li');

        function activateTab(tabEl) {
            const target = tabEl.dataset.tab; // 'html', 'css' ou 'js'

            // Alterna a aba ativa
            tabs.forEach(t => t.classList.toggle('active', t === tabEl));

            // Mostra/esconde editores e atualiza foco
            Object.entries(editors).forEach(([key, editorEl]) => {
            if (key === target) {
                editorEl.style.display = 'block';
                cmInstances[key].refresh();
                cmInstances[key].focus(); // Cursor piscando garantido 💥
            } else {
                editorEl.style.display = 'none';
            }
            });
        }

        // Ativa troca de abas no clique
        tabs.forEach(tab => {
            tab.addEventListener('click', () => activateTab(tab));
        });

        // Ativa a primeira aba (ou a que já tiver classe 'active')
        activateTab(document.querySelector('.tabs li.active') || tabs[0]);
    </script>





    <!----- Script Js ---- -->
    
</body>
</html>